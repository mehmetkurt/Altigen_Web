{"version":3,"file":"spacing.element-BjIAvJwH.js","sources":["../../../Client/src/property-editor/spacing.element.ts"],"sourcesContent":["import { LitElement, css, html, customElement, property, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\n\r\ninterface SpacingValue {\r\n    top?: string;\r\n    right?: string;\r\n    bottom?: string;\r\n    left?: string;\r\n    unit?: string;\r\n    isLinked?: boolean;\r\n}\r\n\r\n@customElement('altigen-spacing-editor')\r\nexport class AltigenSpacingEditorElement extends UmbElementMixin(LitElement) {\r\n\r\n    @state()\r\n    private _value: SpacingValue = { unit: 'px', isLinked: true };\r\n\r\n    @property({ attribute: false })\r\n    public config: any;\r\n\r\n    @property({ type: String })\r\n    public set value(value: string | undefined) {\r\n        if (!value) {\r\n            this._value = { unit: 'px', isLinked: true };\r\n            return;\r\n        }\r\n        try {\r\n            const parsed = JSON.parse(value);\r\n            // Ensure defaults\r\n            this._value = { \r\n                unit: 'px', \r\n                isLinked: true,\r\n                ...parsed \r\n            };\r\n        } catch {\r\n            this._value = { unit: 'px', isLinked: true };\r\n        }\r\n    }\r\n\r\n    public get value(): string {\r\n        return JSON.stringify(this._value);\r\n    }\r\n\r\n    private _update(side: 'top' | 'right' | 'bottom' | 'left', val: string) {\r\n        if (this._value.isLinked) {\r\n            // Update all sides if linked\r\n            this._value = { \r\n                ...this._value, \r\n                top: val, \r\n                right: val, \r\n                bottom: val, \r\n                left: val \r\n            };\r\n        } else {\r\n            // Update only specific side\r\n            this._value = { ...this._value, [side]: val };\r\n        }\r\n        this._dispatchChange();\r\n    }\r\n\r\n    private _toggleLink() {\r\n        this._value = { ...this._value, isLinked: !this._value.isLinked };\r\n        \r\n        // If we just linked, sync all values to the top value (or first available)\r\n        if (this._value.isLinked) {\r\n            const syncVal = this._value.top || this._value.right || this._value.bottom || this._value.left || \"\";\r\n            this._value = {\r\n                ...this._value,\r\n                top: syncVal,\r\n                right: syncVal,\r\n                bottom: syncVal,\r\n                left: syncVal\r\n            };\r\n            this._dispatchChange();\r\n        } else {\r\n            // Just trigger re-render to update icon state\r\n            this.requestUpdate();\r\n        }\r\n    }\r\n\r\n    private _changeUnit(e: Event) {\r\n        const target = e.target as HTMLSelectElement;\r\n        this._value = { ...this._value, unit: target.value };\r\n        this._dispatchChange();\r\n    }\r\n\r\n    private _dispatchChange() {\r\n        this.dispatchEvent(new CustomEvent('property-value-change', { bubbles: true, composed: true }));\r\n    }\r\n\r\n    render() {\r\n        return html`\r\n            <div class=\"spacing-wrapper\">\r\n                \r\n                <div class=\"header-controls\">\r\n                     <span class=\"label\">Values</span>\r\n                     <div class=\"unit-selector\">\r\n                        <select @change=${this._changeUnit} .value=${this._value.unit || 'px'}>\r\n                            <option value=\"px\">px</option>\r\n                            <option value=\"%\">%</option>\r\n                            <option value=\"em\">em</option>\r\n                            <option value=\"rem\">rem</option>\r\n                            <option value=\"vw\">vw</option>\r\n                            <option value=\"vh\">vh</option>\r\n                            <option value=\"\">custom</option>\r\n                        </select>\r\n                     </div>\r\n                </div>\r\n\r\n                <div class=\"inputs-container\">\r\n                    \r\n                    <div class=\"input-group\">\r\n                        <uui-input \r\n                            .value=${this._value.top ?? ''} \r\n                            @input=${(e: any) => this._update('top', e.target.value)}\r\n                            type=\"text\">\r\n                        </uui-input>\r\n                        <label>Top</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-group\">\r\n                        <uui-input \r\n                            .value=${this._value.right ?? ''} \r\n                            @input=${(e: any) => this._update('right', e.target.value)}\r\n                            type=\"text\">\r\n                        </uui-input>\r\n                        <label>Right</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-group\">\r\n                        <uui-input \r\n                            .value=${this._value.bottom ?? ''} \r\n                            @input=${(e: any) => this._update('bottom', e.target.value)}\r\n                            type=\"text\">\r\n                        </uui-input>\r\n                        <label>Bottom</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-group\">\r\n                        <uui-input \r\n                            .value=${this._value.left ?? ''} \r\n                            @input=${(e: any) => this._update('left', e.target.value)}\r\n                            type=\"text\">\r\n                        </uui-input>\r\n                        <label>Left</label>\r\n                    </div>\r\n\r\n                    <div class=\"link-control\">\r\n                        <uui-button \r\n                            compact \r\n                            look=\"${this._value.isLinked ? 'primary' : 'secondary'}\" \r\n                            @click=${this._toggleLink}\r\n                            title=\"${this._value.isLinked ? 'Unlink values' : 'Link values'}\">\r\n                            <span class=\"link-icon\">\r\n                                ${this._value.isLinked ? 'ðŸ”—' : 'ðŸ”“'}\r\n                            </span>\r\n                        </uui-button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    static styles = css`\r\n        :host {\r\n            display: block;\r\n            font-family: inherit;\r\n        }\r\n        \r\n        .spacing-wrapper {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 8px;\r\n            max-width: 400px;\r\n        }\r\n\r\n        .header-controls {\r\n            display: flex;\r\n            justify-content: flex-end; /* Elementor style: unit on right */\r\n            align-items: center;\r\n            font-size: 12px;\r\n            margin-bottom: 4px;\r\n        }\r\n\r\n        .unit-selector select {\r\n            background: transparent;\r\n            border: none;\r\n            color: var(--uui-color-text-alt);\r\n            font-size: 10px;\r\n            font-weight: bold;\r\n            cursor: pointer;\r\n            padding: 2px 4px;\r\n            border-radius: 3px;\r\n        }\r\n        .unit-selector select:hover {\r\n            background: var(--uui-color-surface-emphasis);\r\n        }\r\n\r\n        .inputs-container {\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr 1fr 1fr auto; /* 4 inputs + link button */\r\n            gap: 2px;\r\n            align-items: start;\r\n        }\r\n\r\n        .input-group {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            gap: 4px;\r\n        }\r\n\r\n        uui-input {\r\n            width: 100%;\r\n            text-align: center;\r\n            --uui-input-padding-left: 4px;\r\n            --uui-input-padding-right: 4px;\r\n        }\r\n        \r\n        /* Visually hide input border to match \"seamless\" look if desired, \r\n           but for Umbraco standard UI, keeping standard input style is validating. \r\n           Let's just make it compact. */\r\n\r\n        .input-group label {\r\n            font-size: 10px;\r\n            color: var(--uui-color-text-alt);\r\n            text-transform: uppercase;\r\n        }\r\n\r\n        .link-control {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            height: 30px; /* Match input height approx */\r\n            padding-left: 4px;\r\n        }\r\n\r\n        .link-icon {\r\n            font-size: 14px;\r\n            line-height: 1;\r\n        }\r\n    `;\r\n}\r\n\r\nexport default AltigenSpacingEditorElement;\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'altigen-spacing-editor': AltigenSpacingEditorElement;\r\n    }\r\n}\r\n"],"names":["AltigenSpacingEditorElement","UmbElementMixin","LitElement","value","parsed","side","val","syncVal","e","target","html","css","__decorateClass","state","property","customElement","AltigenSpacingEditorElement_default"],"mappings":"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"}