{"version":3,"file":"robots-meta.element-OImvlXvk.js","sources":["../../../Client/src/property-editor/robots-meta.element.ts"],"sourcesContent":["import { LitElement, html, css, customElement, property } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\n\r\n// DİKKAT: 'export class' yerine 'export default class' yazıyoruz.\r\n@customElement('altigen-robots-meta')\r\nexport default class AltigenRobotsMetaElement extends UmbElementMixin(LitElement) {\r\n\r\n    @property({ type: Array })\r\n    public value: string[] = [];\r\n\r\n    @property({ attribute: false })\r\n    public config: any;\r\n\r\n    private _options: Array<{ label: string, value: string }> = [];\r\n\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        this._initOptions();\r\n        this._initDefaultValue();\r\n    }\r\n\r\n    private _initOptions() {\r\n        if (this.config?.options) {\r\n            const lines = this.config.options.split('\\n');\r\n            this._options = lines.map((line: string) => {\r\n                const parts = line.split('|');\r\n                return {\r\n                    label: parts[0].trim(),\r\n                    value: parts.length > 1 ? parts[1].trim() : parts[0].trim()\r\n                };\r\n            }).filter((opt: { label: string, value: string }) => opt.value);\r\n        } else {\r\n            // Default options if not configured\r\n            this._options = [\r\n                { label: \"Index\", value: \"index\" },\r\n                { label: \"No Index\", value: \"noindex\" },\r\n                { label: \"Nofollow\", value: \"nofollow\" },\r\n                { label: \"No Archive\", value: \"noarchive\" },\r\n                { label: \"No Image Index\", value: \"noimageindex\" },\r\n                { label: \"No Snippet\", value: \"nosnippet\" }\r\n            ];\r\n        }\r\n    }\r\n\r\n    private _initDefaultValue() {\r\n        if ((!this.value || this.value.length === 0) && this.config?.defaultValues) {\r\n            this.value = this.config.defaultValues.split(',').map((v: string) => v.trim()).filter((v: string) => v);\r\n            this.dispatchEvent(new CustomEvent('property-value-change', {\r\n                detail: { value: this.value },\r\n                bubbles: true,\r\n                composed: true,\r\n            }));\r\n        }\r\n    }\r\n\r\n    private _handleChange(e: Event, optionValue: string) {\r\n        const checkbox = e.target as HTMLInputElement;\r\n        const isChecked = checkbox.checked;\r\n\r\n        let newValue = this.value ? [...this.value] : [];\r\n\r\n        if (isChecked) {\r\n            if (optionValue === \"index\") {\r\n                newValue = newValue.filter(v => v !== \"noindex\");\r\n            } else if (optionValue === \"noindex\") {\r\n                newValue = newValue.filter(v => v !== \"index\");\r\n            }\r\n\r\n            if (!newValue.includes(optionValue)) {\r\n                newValue.push(optionValue);\r\n            }\r\n        } else {\r\n            newValue = newValue.filter(v => v !== optionValue);\r\n        }\r\n\r\n        this.value = newValue;\r\n\r\n        this.dispatchEvent(new CustomEvent('property-value-change', {\r\n            detail: { value: this.value },\r\n            bubbles: true,\r\n            composed: true,\r\n        }));\r\n\r\n        this.requestUpdate();\r\n    }\r\n\r\n    render() {\r\n        return html`\r\n            <div class=\"options-container\">\r\n                ${this._options.map(opt => html`\r\n                    <uui-checkbox \r\n                        .checked=\"${this.value?.includes(opt.value) ?? false}\" \r\n                        @change=\"${(e: Event) => this._handleChange(e, opt.value)}\"\r\n                        label=\"${opt.label}\">\r\n                        ${opt.label}\r\n                    </uui-checkbox>\r\n                `)}\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    static styles = css`\r\n        .options-container {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 10px;\r\n        }\r\n    `;\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'altigen-robots-meta': AltigenRobotsMetaElement;\r\n    }\r\n}"],"names":["AltigenRobotsMetaElement","UmbElementMixin","LitElement","lines","line","parts","opt","v","e","optionValue","isChecked","newValue","html","css","__decorateClass","property","customElement"],"mappings":"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"}